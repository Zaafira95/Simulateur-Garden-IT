<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Simulateur Garden IT</title>
	<script src="js/jquery.min.js"></script>
  <script src="taux-impot.js"></script>
  <link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <link href="css/style.css" rel="stylesheet" >
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Karla&display=swap" rel="stylesheet">
</head>
<body>


  <form id="wf-form-Simu" name="wf-form-Simu" data-name="Simu">
            
    <div class="formulaire">

        <img src="logoGardenIT.png" class="logo"> <br>
        
        <div><span id="marge-pot" style="font-weight: bold;color: darkblue;"></span></div><br>
        <div><span id="rapport-frais-salaireBrut" style="font-weight: bold;color: darkblue;"></span></div><br>

        <label >Nom Prénom</label>
        <div> <input type="text" value=""
                maxlength="256" data-name="" placeholder="" id="nom-prenom" required=""> </div><br>

        <label >Age</label>
        <div> <input type="number" value=""
                maxlength="256" data-name="" placeholder="" id="age" onkeyup="afficher()"> </div><br>

        <label >Catégorie</label>
        <div><select id="categorie">
          <option value="A0">A0</option>
          <option value="B0">B0</option>
          <option value="B1">B1</option>
          <option value="B2">B2</option>
          <option value="B3">B3</option>
          <option value="B4">B4</option>
          <option value="B5">B5</option>
          <option value="C0">C0</option>
          <option value="C1">C1</option>
          <option value="C2">C2</option>
          <option value="C3">C3</option>
          <option value="C4">C4</option>
          <option value="C5">C5</option>
          <option value="H0">H0</option>
          <option value="H1">H1</option>
          <option value="H2">H2</option>
          <option value="H3">H3</option>
          <option value="H4">H4</option>
          <option value="H5">H5</option>
        </select><br><br></div>

        <label >TJM</label>
        <div> <input type="number" value=""
                maxlength="256" data-name="" placeholder="" id="tjm" onkeyup="afficher()"> </div><br>

        <label >Jours travaillés</label>
        <div> <input type="number" value="20"
                maxlength="256" data-name="" placeholder="" id="nbJours" onkeyup="afficher()"> </div><br>

        <label >Distance Domicile / Travail (A/R en km)</label>
        <div> <input type="number" value="0"
                maxlength="256" data-name="" placeholder="" id="distance" onkeyup="afficher()"> </div><br>

        <label >Taux Garden IT</label>
        <div> <input type="number" value="0.59"
                maxlength="256" data-name="" placeholder="" id="taux-garden-it" onkeyup="afficher()"> </div><br>

        <label >Taux EUR/CHF</label>
        <div> <input type="number" value="1.03"
                maxlength="256" data-name="" placeholder="" id="taux-eur-chf" onkeyup="afficher()"> </div><br>

        <button type="button" onclick="afficherPdf();" id="btn">Simuler</button>

      </div>
</form>

<div id="invoice" style="display: none;">
  <button> <a  href="javascript:void(0)" class="btn-download">Télécharger le PDF  </a></button>
  <button><a  href="javascript:void(0)" class="btn-download-2">Détails de la simulation  </a></button>
  <div id="pdf">
    <div class="header">
      <img class="logo-pdf" src="data:image/jpeg;base64,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" class="logo"> <br>
    
      <div>
        <h3 id="nom-prenom-aff">NOM PRENOM</h3>
        <div id="trait"></div>
        <h3>TJM : <span id="tjm-aff"></span> €</h3>
        <h3><span>SIMULATION SUR 20J</span></h3>
      </div></div>
    <article>
           <br><br>     
      <table class="inventory">
        <thead>
          <tr>
            <th><span >DESCRIPTION DE L'ARTICLE</span></th>
            <th><span >CHF</span></th>
            <th><span >EUR</span></th>
          </tr>
        </thead>
        <tbody>
        <tr>
            <td>Chiffres d'affaires</td>
            <td class="separation"  ><span id="ca-chf"></span></td>
            <td style="font-weight: bold;" ><span id="ca-eur"></span></td>
        </tr>
        <tr>
            <td>Salaire brut</td>
            <td class="separation"  ><span id="salaire-brut-chf"></span></td>
            <td style="font-weight: bold;" ><span id="salaire-brut-eur"></span></td>
        </tr>
        <tr>
            <td>Frais (panier repas + IK)</td>
            <td class="separation"  ><span id="frais-repas-chf"></span></td>
            <td style="font-weight: bold;" ><span id="frais-repas-eur"></span></td>
        </tr>
        <tr>
            <td>Impôts (catégorie d'imposition : <span id="categorie-aff">test</span> )</td>
            <td class="separation"  ><span id="impot-chf"></span></td>
            <td style="font-weight: bold;" ><span id="impot-eur"></span></td>
        </tr>
        <tr>
            <td>Salaire net d'impôts</td>
            <td class="separation" style="font-size: 150%;" ><span id="salaire-net-chf"></span></td>
            <td style="font-weight: bold; font-size: 150%;" ><span id="salaire-net-eur"></span></td>
        </tr>
        <tr>
            <td class="ratio" style="font-weight: bold;">RATIO CA / SALAIRE</td>
            <td class="ratio" colspan="2" style="font-weight: bold; font-size: 250%;"><span id="ratio"></span></td>
        </tr>
        </tbody>
      </table>

      <div>
        <p>Votre fiche de paie sera éditée en CHF, mais vous percevrez votre salaire en Euro.</p>
        <p>Vous serez payé à récepton du paiement client ( à 30J en général ).</p>
        <p>Votre fiche de paie sera calculée par rapport au chiffre d'affaires que vous générez. Cette simulation est faite sur 20J.</p>
        <p>Concernant le choix de la côtisation pour la sécurité sociale : </p>
        <p>&ensp; • Il faut compter environ 200 pour la sécurité sociale suisse <strong>LAMAL </strong> si vous optez pour celle-ci.</p>
        <p>&ensp; • Si vous choisissez la <strong>CMU, </strong> votre côtisation mensuelle sera calculée par rapport à votre salaire brut A-2</p>
        <p><br>*Taux de change EUR/CHF : <span id="taux-eur-chf-aff">test</span></p>
      </div>
    </article>
    <aside>
      <div style="text-align: center;">
        <p>Garden IT Sàrl  
          <br>Rue du Général Dufour, 20 1204 Genève</p>
        <p></p>
      </div>
    </aside>
  </div>
</div>

<div id="invoice2" style="display: none;">
  <div id="pdf2">
    <div>
      <h3>Détails de la simulation de <span id="nom-prenom-aff-2"></span></h3>
    </div>
    <article>
           <br><br>     
      <table class="inventory2">
        <tbody>
        <tr>
            <td>Age</td>
            <td style="font-weight: bold;; font-size: 130%;" ><span id="age-aff"></span></td>
        </tr>
        <tr>
            <td>TJM</td>
            <td style="font-weight: bold;; font-size: 130%;" ><span id="tjm-aff-2"></span> €</td>
        </tr>
        <tr>
            <td>Jours travaillés</td>
            <td style="font-weight: bold;; font-size: 130%;" ><span id="nb-jours-aff"></span></td>
        </tr>
        <tr>
            <td>Distance Domicile/Travail (A/R en km)</td>
            <td style="font-weight: bold;; font-size: 130%;" ><span id="distance-aff"></span> km</td>
        </tr>
        <tr>
            <td>Catégorie</td>
            <td style="font-weight: bold; font-size: 130%;" ><span id="categorie-aff-2"></span></td>
        </tr>
        <tr>
          <td>Taux Garden IT</td>
          <td style="font-weight: bold; font-size: 130%;" ><span id="taux-garden-aff"></span></td>
        </tr>
        <tr>
          <td>Taux EUR / CHF</td>
          <td style="font-weight: bold; font-size: 130%;" ><span id="taux-eur-chf-aff-2"></span></td>
        </tr>
        </tbody>
      </table>

    </article>
    <aside>
      <div style="text-align: center;">
        <p>Garden IT Sàrl  
          <br>Rue du Général Dufour, 20 1204 Genève</p>
        <p></p>
      </div>
    </aside>
  </div>
</div>


<script src="js/jspdf.debug.js"></script>
<script src="js/html2canvas.min.js"></script>
<script src="js/html2pdf.min.js"></script>


<script>

    let nomPrenom = document.getElementById('nom-prenom').value;
    let tjmEUR = document.getElementById('tjm').value;
    let date = new Date();
    const options1 = {
      
      margin: 0.5,
      filename: nomPrenom+"_"+tjmEUR+"_"+date.getDate()+"-"+(date.getMonth()+1)+"-"+date.getFullYear()+'.pdf',
      image: { 
        type: 'svg', 
        quality: 500
      },
      html2canvas: { 
        scale: 1 
      },
      jsPDF: { 
        unit: 'in', 
        format: 'letter', 
        orientation: 'portrait' 
      }
    }
    const options2 = {
      
      margin: 0.5,
      filename: "details-simulation-"+nomPrenom+"_"+tjmEUR+"_"+date.getDate()+"-"+(date.getMonth()+1)+"-"+date.getFullYear()+'.pdf',
      image: { 
        type: 'svg', 
        quality: 500
      },
      html2canvas: { 
        scale: 1 
      },
      jsPDF: { 
        unit: 'in', 
        format: 'letter', 
        orientation: 'portrait' 
      }
    }
    
    $('.btn-download').click(function(e){
      e.preventDefault();
      const element = document.getElementById('pdf');
      html2pdf().from(element).set(options1).save();
    });

    $('.btn-download-2').click(function(e){
      e.preventDefault();
      const element = document.getElementById('pdf2');
      html2pdf().from(element).set(options2).save();
    });


    function printDiv(divName) {
     var printContents = document.getElementById(divName).innerHTML;
     var originalContents = document.body.innerHTML;

     document.body.innerHTML = printContents;

     window.print();

     document.body.innerHTML = originalContents;
}
    </script>

<script>

  function afficher(){
      let nomPrenom = document.getElementById('nom-prenom').value;
      let tauxGardenIT = document.getElementById('taux-garden-it').value;
      let tauxEurChf = document.getElementById('taux-eur-chf').value;
      let categorie = document.getElementById('categorie').value;
      let age = document.getElementById('age').value;
      let tjmEUR = document.getElementById('tjm').value;
      let nbJours = document.getElementById('nbJours').value;
      let distance = document.getElementById('distance').value;

      let nbJoursInf = Math.floor(nbJours);
      let nbJoursSup = Math.ceil(nbJours);
      let tauxChfEur = 0.9765;
      let nbHeures = nbJours * 8;

      let tjmCHF = tjmEUR * tauxEurChf;
      let caEUR = tjmEUR * nbJours;
      let caEURArr = caEUR.toFixed(2);
      let caCHF= caEUR * tauxEurChf;
      let caCHFArr = caCHF.toFixed(2);
      let tjmConsCHF = tauxGardenIT * tjmCHF;
      let tjmConsCHFArr = tjmConsCHF.toFixed(2);
      let tjmConsEUR = tjmConsCHF/tauxEurChf;
      let tjmConsEURArr = tjmConsEUR.toFixed(2);
      let salaireJourCHF = tjmConsCHF * nbJours;
      let salaireJourCHFArr = salaireJourCHF.toFixed(2);
      let salaireJourEUR = salaireJourCHF/tauxEurChf;
      let salaireJourEURArr = salaireJourEUR.toFixed(2);
      let salaireHorCHF = tjmConsCHF/8;
      let salaireHorCHFArr = salaireHorCHF.toFixed(2);
      let salaireHorEUR = salaireHorCHF/tauxEurChf;
      let salaireHorEURArr = salaireHorEUR.toFixed(2);
      let vacCHF = 0.083333 * salaireJourCHF;
      let vacCHFArr = vacCHF.toFixed(2);
      let vacEUR = vacCHF/tauxEurChf;
      let vacEURArr = vacEUR.toFixed(2);
      let primeCHF = 0; //???
      let primeEUR = 0; //???
      let salaireBrutCHF = salaireJourCHF + vacCHF + primeCHF;
      let salaireBrutCHFArr = salaireBrutCHF.toFixed(2);
      let salaireBrutEUR = salaireBrutCHF/tauxEurChf;
      let salaireBrutEURArr = salaireBrutEUR.toFixed(2);

      let tauxImpot = searchTauxImpot(salaireBrutCHF, categorie)/100;

      let cotAvsCHF = salaireBrutCHF * 0.053;
      let cotAvsCHFArr = cotAvsCHF.toFixed(2);
      let cotAvsEUR = cotAvsCHF/tauxEurChf;
      let cotAvsEURArr = cotAvsEUR.toFixed(2);
      let cotAcCHF = salaireBrutCHF * 0.011;
      let cotAcCHFArr = cotAcCHF.toFixed(2);
      let cotAcEUR = cotAcCHF/tauxEurChf;
      let cotAcEURArr = cotAcEUR.toFixed(2);
      let cotMaterniteCHF = 0.00046 * salaireBrutCHF;
      let cotMaterniteCHFArr = cotMaterniteCHF.toFixed(2);
      let cotMaterniteEUR = cotMaterniteCHF/tauxEurChf;
      let cotMaterniteEURArr = cotMaterniteEUR.toFixed(2);
      let cotLaaCHF = 0.01111 * salaireBrutCHF;
      let cotLaaCHFArr = cotLaaCHF.toFixed(2);
      let cotLaaEUR = cotLaaCHF/tauxEurChf;
      let cotLaaEURArr = cotLaaEUR.toFixed(2);
      let cotIjmCHF = 0.00321 * salaireBrutCHF;
      let cotIjmCHFArr = cotIjmCHF.toFixed(2);
      let cotIjmEUR = cotIjmCHF/tauxEurChf;
      let cotIjmEURArr = cotIjmEUR.toFixed(2);
      let retImpotCHF = salaireBrutCHF * tauxImpot;
      let retImpotCHFArr = retImpotCHF.toFixed(2);
      let retImpotEUR = retImpotCHF/tauxEurChf;
      let retImpotEURArr = retImpotEUR.toFixed(2);
      let totalChargeCHF = cotAvsCHF + cotAcCHF + cotMaterniteCHF + cotLaaCHF + cotIjmCHF + retImpotCHF;
      let totalChargeCHFArr = totalChargeCHF.toFixed(2);
      let totalChargeEUR = totalChargeCHF/tauxEurChf;
      let totalChargeEURArr = totalChargeEUR.toFixed(2);
      let fraisVoitCHF = distance * nbJoursSup * 0.7;
      let fraisVoitCHFArr = fraisVoitCHF.toFixed(2);
      let fraisVoitEUR = fraisVoitCHF/tauxEurChf;
      let fraisVoitEURArr = fraisVoitEUR.toFixed(2);
      let fraisRepasCHF = 30 * nbJoursInf;
      let fraisRepasCHFArr = fraisRepasCHF.toFixed(2);
      let fraisRepasEUR = fraisRepasCHF/tauxEurChf;
      let fraisRepasEURArr = fraisRepasEUR.toFixed(2);
      let notesFraisCHF = 0; //???
      let notesFraisEUR = 0; //???
      let totalFraisCHF = fraisVoitCHF + fraisRepasCHF;
      let totalFraisCHFArr = totalFraisCHF.toFixed(2);
      let totalFraisEUR = totalFraisCHF/tauxEurChf;
      let totalFraisEURArr = totalFraisEUR.toFixed(2);
      let salaireTotalCHF = salaireBrutCHF - totalChargeCHF + notesFraisCHF + totalFraisCHF;
      let salaireTotalCHFArr = salaireTotalCHF.toFixed(2);
      let salaireTotalEUR = salaireTotalCHF * tauxChfEur;
      let salaireTotalEURArr = salaireTotalEUR.toFixed(2);
      let cotAapCHF = 0.00063 * salaireBrutCHF;
      let cotAapCHFArr = cotAapCHF.toFixed(2);
      let cotAapEUR = cotAapCHF/tauxEurChf;
      let cotAapEURArr = cotAapEUR.toFixed(2);
      let cotLaacCHF = 0.00168 * salaireBrutCHF;
      let cotLaacCHFArr = cotLaacCHF.toFixed(2);
      let cotLaacEUR = cotLaacCHF/tauxEurChf;
      let cotLaacEURArr = cotLaacEUR.toFixed(2);
      let contribEnfCHF = 0.0007 * salaireBrutCHF;
      let contribEnfCHFArr = contribEnfCHF.toFixed(2);
      let contribEnfEUR = contribEnfCHF/tauxEurChf;
      let contribEnfEURArr = contribEnfEUR.toFixed(2);
      let contribAllocCHF = 0.024 * salaireBrutCHF;
      let contribAllocCHFArr = contribAllocCHF.toFixed(2);
      let contribAllocEUR = contribAllocCHF/tauxEurChf;
      let contribAllocEURArr = contribAllocEUR.toFixed(2);
      let fraisAdmCHF = 0.002 * salaireBrutCHF;
      let fraisAdmCHFArr = fraisAdmCHF.toFixed(2);
      let fraisAdmEUR = fraisAdmCHF/tauxEurChf;
      let fraisAdmEURArr = fraisAdmEUR.toFixed(2);
      let pourcAffacturage = 0.023;

      let salaireAnnuel = salaireBrutCHF * 10.2;
      let salaireAnnuelArr = salaireAnnuel.toFixed(4);
      let salaireRef = salaireAnnuel - 25095;
      let salaireRefArr = salaireRef.toFixed(2);
      let lppPourcent = calculLPP(age);
      let lpp = salaireRef * lppPourcent / 12;
      let lppArr = lpp.toFixed(7);
      let ratio = salaireTotalEUR/caEUR;
      let ratioArr = ratio.toFixed(4);

      let coutEmployeurCHF = cotAvsCHF + cotAcCHF + cotMaterniteCHF + cotIjmCHF + cotAapCHF + cotLaacCHF + contribEnfCHF + contribAllocCHF + fraisAdmCHF + lpp;
      let coutEmployeurCHFArr = coutEmployeurCHF.toFixed(2);
      let coutEmployeurEUR = coutEmployeurCHF/tauxEurChf;
      let coutEmployeurEURArr = coutEmployeurEUR.toFixed(2);
      let margePotCHF = caCHF - salaireBrutCHF - totalFraisCHF - coutEmployeurCHF;
      let margePotCHFArr = margePotCHF.toFixed(2);
      let margePotEUR = margePotCHF/tauxEurChf;
      let margePotEURArr = margePotEUR.toFixed(2);
      let margePotPourcent = margePotEUR/caEUR;
      let margePotPourcentArr = margePotPourcent.toFixed(4)*100;
      let margeAnnuelle = margePotEUR * 10.8;
      let margeAnnuelleArr = margeAnnuelle.toFixed(2);
      let margePotAffacturage = margePotEUR - (pourcAffacturage * caEUR);
      let margePotAffacturageArr = margePotAffacturage.toFixed(2);
      let margePotPourcent2 = margePotAffacturage/caEUR;
      let margePotPourcent2Arr = margePotPourcent2.toFixed(4);
      
      let rapportFraisSalaireBrut = totalFraisCHF/salaireBrutCHF;
      let rapportFraisSalaireBrutArr = rapportFraisSalaireBrut.toFixed(4)*100;

      if((tauxGardenIT!="")&&(tauxEurChf!="")&&(age!="")&&(tjmEUR!="")&&(nbJours!="")&&(distance!="")){

         document.getElementById('marge-pot').innerHTML = "Marge potentielle : " + margePotPourcentArr.toFixed(2) +" %";
         document.getElementById('rapport-frais-salaireBrut').innerHTML = "Frais / Salaire Brut : " + rapportFraisSalaireBrutArr.toFixed(2) +" %";
      }
      /* Affichage partie consultant */
      document.getElementById('nom-prenom-aff').innerHTML = nomPrenom;
      document.getElementById('tjm-aff').innerHTML = tjmEUR;

      document.getElementById('ca-eur').innerHTML = caEURArr;
      document.getElementById('ca-chf').innerHTML = caCHFArr;

      document.getElementById('salaire-brut-eur').innerHTML = salaireBrutEURArr;
      document.getElementById('salaire-brut-chf').innerHTML = salaireBrutCHFArr;
      
      document.getElementById('impot-eur').innerHTML = retImpotEURArr;
      document.getElementById('impot-chf').innerHTML = retImpotCHFArr;
      
      document.getElementById('categorie-aff').innerHTML = categorie;
      
      document.getElementById('frais-repas-eur').innerHTML = fraisRepasEURArr;
      document.getElementById('frais-repas-chf').innerHTML = fraisRepasCHFArr;
      
      document.getElementById('salaire-net-eur').innerHTML = salaireTotalEURArr;
      document.getElementById('salaire-net-chf').innerHTML = salaireTotalCHFArr;
      
      document.getElementById('ratio').innerHTML = (ratioArr*100).toFixed(2) + "%";
      
      document.getElementById('taux-eur-chf-aff').innerHTML = tauxEurChf;

      /** Affichage partie interne */

      document.getElementById('nom-prenom-aff-2').innerHTML = nomPrenom;
      document.getElementById('age-aff').innerHTML = age;
      document.getElementById('tjm-aff-2').innerHTML = tjmEUR;
      document.getElementById('nb-jours-aff').innerHTML = nbJours;
      document.getElementById('distance-aff').innerHTML = distance;
      document.getElementById('categorie-aff-2').innerHTML = categorie;
      document.getElementById('taux-garden-aff').innerHTML = tauxGardenIT;
      document.getElementById('taux-eur-chf-aff-2').innerHTML = tauxEurChf;
  }

  function afficherPdf(){
      document.getElementById('wf-form-Simu').style.display='none';
      document.getElementById('invoice').style.display="block";

  }

  function calculLPP(age){
      if(age>=0 && age<=24){return 0.00;}
      if(age>=25 && age<=34){return 0.07;}
      if(age>=35 && age<=44){return 0.10;}
      if(age>=45 && age<=54){return 0.15;}
      if(age>=55 && age<=65){return 0.18;}           
  }



  // DATA pour taux d'impot

  function searchTauxImpot(salaire,categorie){
      const obj  = JSON.parse(data);
      
      for (let i = 0; i < data.length; i++){
          if ((salaire >= obj[i].salaireINF) && (salaire <= obj[i].salaireSUP)){
              if(categorie=="A0"){
                  return obj[i].A0;
              }
              if(categorie=="B0"){
                  return obj[i].B0;
              }
              if(categorie=="B1"){
                  return obj[i].B1;
              }
              if(categorie=="B2"){
                  return obj[i].B2;
              }
              if(categorie=="B3"){
                  return obj[i].B3;
              }
              if(categorie=="B4"){
                  return obj[i].B4;
              }
              if(categorie=="B5"){
                  return obj[i].B5;
              }
              if(categorie=="C0"){
                  return obj[i].C0;
              }
              if(categorie=="C1"){
                  return obj[i].C1;
              }
              if(categorie=="C2"){
                  return obj[i].C2;
              }
              if(categorie=="C3"){
                  return obj[i].C3;
              }
              if(categorie=="C4"){
                  return obj[i].C4;
              }
              if(categorie=="C5"){
                  return obj[i].C5;
              }
              if(categorie=="H1"){
                  return obj[i].H1;
              }
              if(categorie=="H2"){
                  return obj[i].H2;
              }
              if(categorie=="H3"){
                  return obj[i].H3;
              }
              if(categorie=="H4"){
                  return obj[i].H4;
              }
              if(categorie=="H5"){
                  return obj[i].H5;
              }
              else{
                  return "error";
              }
          }
      } 
      
  }
</script>
</body>
</html>
